{"ast":null,"code":"import \"antd/es/drawer/style\";\nimport _Drawer from \"antd/es/drawer\";\nimport \"antd/es/spin/style\";\nimport _Spin from \"antd/es/spin\";\nimport \"antd/es/modal/style\";\nimport _Modal from \"antd/es/modal\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/row/style\";\nimport _Row from \"antd/es/row\";\nimport \"antd/es/col/style\";\nimport _Col from \"antd/es/col\";\nimport \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\nimport _objectSpread from \"/home/vivek/Documents/Web projets/react/auth/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/vivek/Documents/Web projets/react/auth/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport \"antd/es/icon/style\";\nimport _Icon from \"antd/es/icon\";\nimport \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nvar _jsxFileName = \"/home/vivek/Documents/Web projets/react/auth/server/client/src/components/Navbar/Navbar.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport MaterialButton from '@material-ui/core/Button';\nimport { addBlogs, loginUser, logoutUser } from '../../store/actions/authTypes';\nimport { withRouter } from 'react-router';\nconst TextArea = _Input.TextArea;\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  title: {\n    flexGrow: 1\n  },\n  list: {\n    width: 250\n  },\n  fullList: {\n    width: 'auto'\n  }\n}));\n\nconst LandingNavbarWithForm = ({\n  form\n}) => {\n  const getFieldDecorator = form.getFieldDecorator;\n  const antIcon = React.createElement(_Icon, {\n    type: \"loading\",\n    style: {\n      fontSize: 40\n    },\n    spin: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  });\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  const _useState = useState({\n    visible: false\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        state = _useState2[0],\n        setState = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        loginPageLoading = _useState4[0],\n        setLoginPageLoading = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        modal = _useState6[0],\n        setModal = _useState6[1];\n\n  const _useState7 = useState({\n    errors: {}\n  }),\n        _useState8 = _slicedToArray(_useState7, 2),\n        errorData = _useState8[0],\n        setErrorData = _useState8[1];\n\n  const addLoading = useSelector(state => state.allBlogs.addLoading);\n  const loginLoading = useSelector(state => state.authData.loading);\n  const isAuthenticated = useSelector(state => state.authData.isAuthenticated);\n  const error = useSelector(state => state.error);\n  useEffect(() => {\n    if (isAuthenticated) {\n      setState(_objectSpread({}, state, {\n        visible: false\n      }));\n      setErrorData(_objectSpread({}, errorData, {\n        errors: {}\n      }));\n      setLoginPageLoading(false);\n      form.resetFields();\n    }\n\n    if (error) {\n      setErrorData(_objectSpread({}, errorData, {\n        errors: error\n      }));\n      form.resetFields();\n    }\n  }, [isAuthenticated, error]);\n\n  const showDrawer = () => {\n    setState(_objectSpread({}, state, {\n      visible: true\n    }));\n  };\n\n  const onClose = () => {\n    setState(_objectSpread({}, state, {\n      visible: false\n    }));\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    form.validateFields(['email', 'password'], (err, values) => {\n      if (!err) {\n        let startlo = () => {\n          return new Promise(resolve => {\n            resolve(dispatch({\n              type: 'START_LOADING'\n            }));\n          });\n        };\n\n        let startloding = () => {\n          return new Promise(resolve => {\n            resolve(dispatch(loginUser(values)));\n          });\n        };\n\n        let stoplo = () => {\n          return new Promise(resolve => {\n            resolve(dispatch({\n              type: 'STOP_LOADING'\n            }));\n          });\n        };\n\n        startlo().then(() => {\n          return startloding();\n        }).then(() => {\n          return stoplo();\n        });\n      }\n    });\n  };\n\n  const handleAddBlog = e => {\n    e.preventDefault();\n    form.validateFields(['title', 'imageUrl', 'blogContent'], (err, values) => {\n      if (!err) {\n        dispatch(addBlogs(values));\n        form.resetFields();\n        setModal(false);\n      }\n    });\n  };\n\n  const handelLogout = () => {\n    dispatch({\n      type: 'START_LOADING'\n    });\n    dispatch(logoutUser());\n    dispatch({\n      type: 'STOP_LOADING'\n    });\n  };\n\n  const navItems = React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, isAuthenticated ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, React.createElement(MaterialButton, {\n    onClick: () => {\n      setModal(true);\n    },\n    color: \"inherit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, \"ADD BLOG\"), React.createElement(MaterialButton, {\n    onClick: () => handelLogout(),\n    color: \"inherit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, \"LOGOUT\")) : React.createElement(MaterialButton, {\n    onClick: showDrawer,\n    color: \"inherit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, \"LOGIN\"));\n  return React.createElement(\"div\", {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, React.createElement(AppBar, {\n    position: \"fixed\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, React.createElement(Toolbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"h6\",\n    style: {\n      color: 'white'\n    },\n    className: classes.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, React.createElement(NavLink, {\n    style: {\n      color: 'white'\n    },\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, \"TECH BLOG\")), navItems)), React.createElement(_Modal, {\n    title: \"Add New Blog\",\n    visible: modal,\n    onCancel: () => {\n      setModal(false);\n    },\n    footer: null,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, React.createElement(_Form, {\n    onSubmit: handleAddBlog,\n    className: \"login-form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, React.createElement(_Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, React.createElement(_Col, {\n    span: 24,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, React.createElement(_Form.Item, {\n    label: \"Title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, getFieldDecorator('title', {\n    rules: [{\n      required: true,\n      message: 'Please enter a Title'\n    }]\n  })(React.createElement(_Input, {\n    placeholder: \"Title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172\n    },\n    __self: this\n  }))))), React.createElement(_Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, React.createElement(_Col, {\n    span: 24,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, React.createElement(_Form.Item, {\n    label: \"Image url\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }, getFieldDecorator('imageUrl', {\n    rules: [{\n      required: true,\n      message: 'Please enter image url'\n    }]\n  })(React.createElement(_Input, {\n    placeholder: \"Image Url\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }))))), React.createElement(_Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }, React.createElement(_Col, {\n    span: 24,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, React.createElement(_Form.Item, {\n    label: \"Blog Content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, getFieldDecorator('blogContent', {\n    rules: [{\n      required: true,\n      message: 'Please enter blog'\n    }]\n  })(React.createElement(TextArea, {\n    rows: 4,\n    placeholder: \"Blog content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }))))), React.createElement(_Button, {\n    type: \"primary\",\n    loading: addLoading,\n    block: true,\n    htmlType: \"submit\",\n    className: \"login-form-button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }, \"Submit\"))), React.createElement(_Drawer, {\n    style: {\n      zIndex: '1200'\n    },\n    title: \"LOGIN\",\n    width: '35%',\n    onClose: onClose,\n    visible: state.visible,\n    closable: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209\n    },\n    __self: this\n  }, React.createElement(_Spin, {\n    spinning: loginPageLoading,\n    indicator: antIcon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    style: {\n      textAlign: 'center',\n      textTransform: 'uppercase',\n      color: 'red'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211\n    },\n    __self: this\n  }, errorData.errors.passwordincorrect), React.createElement(\"p\", {\n    style: {\n      textAlign: 'center',\n      textTransform: 'uppercase',\n      color: 'red'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212\n    },\n    __self: this\n  }, errorData.errors.emailnotfound), React.createElement(_Form, {\n    onSubmit: handleSubmit,\n    className: \"login-form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213\n    },\n    __self: this\n  }, React.createElement(_Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214\n    },\n    __self: this\n  }, getFieldDecorator('email', {\n    rules: [{\n      required: true,\n      message: 'Please input your email!'\n    }, {\n      type: 'email',\n      message: 'The input is not valid E-mail!'\n    }]\n  })(React.createElement(_Input, {\n    prefix: React.createElement(_Icon, {\n      type: \"user\",\n      style: {\n        color: 'rgba(0,0,0,.25)'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }),\n    placeholder: \"Email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }))), React.createElement(_Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227\n    },\n    __self: this\n  }, getFieldDecorator('password', {\n    rules: [{\n      required: true,\n      message: 'Please input your Password!'\n    }]\n  })(React.createElement(_Input, {\n    prefix: React.createElement(_Icon, {\n      type: \"lock\",\n      style: {\n        color: 'rgba(0,0,0,.25)'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }),\n    type: \"password\",\n    placeholder: \"Password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231\n    },\n    __self: this\n  }))), React.createElement(_Button, {\n    type: \"primary\",\n    onClick: () => {\n      setLoginPageLoading(true);\n    },\n    loading: loginLoading,\n    block: true,\n    htmlType: \"submit\",\n    className: \"login-form-button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238\n    },\n    __self: this\n  }, \"Log in\"), React.createElement(\"div\", {\n    style: {\n      padding: '2px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241\n    },\n    __self: this\n  }, \"Or \", React.createElement(NavLink, {\n    to: \"/register\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242\n    },\n    __self: this\n  }, \"register now!\"))))));\n};\n\nexport const LandingNavbar = withRouter(_Form.create({\n  name: 'login'\n})(LandingNavbarWithForm));","map":{"version":3,"sources":["/home/vivek/Documents/Web projets/react/auth/server/client/src/components/Navbar/Navbar.js"],"names":["React","useState","useEffect","useDispatch","useSelector","NavLink","makeStyles","AppBar","Toolbar","Typography","MaterialButton","addBlogs","loginUser","logoutUser","withRouter","TextArea","useStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","list","width","fullList","LandingNavbarWithForm","form","getFieldDecorator","antIcon","fontSize","classes","dispatch","visible","state","setState","loginPageLoading","setLoginPageLoading","modal","setModal","errors","errorData","setErrorData","addLoading","allBlogs","loginLoading","authData","loading","isAuthenticated","error","resetFields","showDrawer","onClose","handleSubmit","e","preventDefault","validateFields","err","values","startlo","Promise","resolve","type","startloding","stoplo","then","handleAddBlog","handelLogout","navItems","color","rules","required","message","zIndex","textAlign","textTransform","passwordincorrect","emailnotfound","padding","LandingNavbar","create","name"],"mappings":"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","sourcesContent":["import React, {useState,useEffect} from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport MaterialButton from '@material-ui/core/Button';\nimport {addBlogs,loginUser, logoutUser} from '../../store/actions/authTypes';\nimport { Form, Icon, Input, Drawer, Button,Modal,Row,Col,Spin } from 'antd';\nimport { withRouter } from 'react-router';\nconst { TextArea } = Input;\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n  list: {\n    width: 250,\n  },\n  fullList: {\n    width: 'auto',\n  },\n}));\n\nconst LandingNavbarWithForm = ({form})=> {\n\n  const { getFieldDecorator } = form;\n  const antIcon = <Icon type=\"loading\" style={{ fontSize: 40 }} spin />;\n  const classes = useStyles();\n  const dispatch = useDispatch()\n\n  const [state, setState] = useState({\n    visible: false\n  });\n  \n  const [loginPageLoading, setLoginPageLoading] = useState(false);\n\n  const [ modal, setModal ] = useState(false);\n  const [ errorData, setErrorData ] = useState({\n    errors: {}\n  })\n  const addLoading = useSelector(state => state.allBlogs.addLoading);\n  const loginLoading = useSelector(state => state.authData.loading);\n  const isAuthenticated = useSelector(state => state.authData.isAuthenticated);\n  const error = useSelector(state => state.error);\n\n  useEffect(()=>{\n    if(isAuthenticated){\n      setState({\n        ...state,\n        visible: false,\n      });\n      setErrorData({\n        ...errorData,\n        errors: {}\n      })\n      setLoginPageLoading(false);\n      form.resetFields()\n    }\n    if(error){\n      setErrorData({\n        ...errorData,\n        errors: error\n      })\n      form.resetFields()\n    }\n  },[isAuthenticated, error])\n\n  const showDrawer = () => {\n    setState({\n      ...state,\n      visible: true,\n    });\n  };\n\n  const onClose = () => {\n    setState({\n      ...state,\n      visible: false,\n    });\n  };\n  \n  const handleSubmit = e => {\n    e.preventDefault();\n    form.validateFields(['email', 'password'],(err, values) => {\n      if (!err) {\n        let startlo = () => {\n          return new Promise(resolve => {\n            resolve(dispatch({type:'START_LOADING'}))\n          })\n        }\n        let startloding = () => {\n          return new Promise(resolve => {\n            resolve(dispatch(loginUser(values)))\n          })\n        }\n        let stoplo = () => {\n          return new Promise(resolve => {\n            resolve(dispatch({type:'STOP_LOADING'}))\n          })\n        }\n\n        startlo().then(()=>{\n          return startloding()\n        }).then(()=>{\n          return stoplo()\n        })\n\n      }\n    });\n  };\n\n  const handleAddBlog = e => {\n    e.preventDefault();\n    form.validateFields(['title', 'imageUrl', 'blogContent'],(err, values) => {\n      if (!err) {\n        dispatch(addBlogs(values))\n        form.resetFields()\n        setModal(false);\n      }\n    });\n  };\n\n  const handelLogout = () => {\n    dispatch({type:'START_LOADING'})\n    dispatch(logoutUser());\n    dispatch({type:'STOP_LOADING'})\n  }\n\n  const navItems =(\n    <div>\n      {isAuthenticated ? (\n      <div>\n        <MaterialButton onClick={()=>{setModal(true)}} color=\"inherit\">ADD BLOG</MaterialButton>\n        <MaterialButton onClick={()=>handelLogout()} color=\"inherit\">LOGOUT</MaterialButton> \n      </div>\n      ):(\n        <MaterialButton onClick={showDrawer} color=\"inherit\">LOGIN</MaterialButton>\n      )}\n    </div>\n  )\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"fixed\">\n        <Toolbar>\n          <Typography variant=\"h6\" style={{color:'white'}} className={classes.title}>\n            <NavLink style={{color:'white'}} to='/'>TECH BLOG</NavLink>\n          </Typography>\n          {navItems}\n        </Toolbar>\n      </AppBar>\n      {/* Adding Blog */}\n      <Modal title=\"Add New Blog\" visible={modal} onCancel={()=>{setModal(false)}} footer={null}>\n      \n        <Form onSubmit={handleAddBlog} className=\"login-form\">\n          <Row>\n            <Col span={24}>\n              <Form.Item label='Title'>\n                  {getFieldDecorator('title', {\n                      rules: [\n                          { required: true, message: 'Please enter a Title' },\n                      ],\n                  })(\n                      <Input placeholder=\"Title\" />\n                  )}\n              </Form.Item>\n            </Col>\n          </Row>\n          <Row>\n            <Col span={24}>\n              <Form.Item label='Image url'>\n                  {getFieldDecorator('imageUrl', {\n                      rules: [\n                          { required: true, message: 'Please enter image url' },\n                      ],\n                  })(\n                      <Input placeholder=\"Image Url\" />\n                  )}\n              </Form.Item>\n            </Col>\n          </Row>\n          <Row>\n            <Col span={24}>\n              <Form.Item label='Blog Content'>\n                  {getFieldDecorator('blogContent', {\n                      rules: [\n                          { required: true, message: 'Please enter blog' },\n                      ],\n                  })(\n                      <TextArea rows={4} placeholder=\"Blog content\" />\n                  )}\n              </Form.Item>\n            </Col>\n          </Row>\n          <Button type=\"primary\" loading={addLoading} block htmlType=\"submit\" className=\"login-form-button\">\n              Submit\n          </Button>\n        </Form>\n      </Modal>\n      {/* login drawer */}\n      <Drawer style={{zIndex: '1200'}} title=\"LOGIN\" width={'35%'} onClose={onClose} visible={state.visible} closable>\n      <Spin spinning={loginPageLoading} indicator={antIcon} >\n        <p style={{textAlign:'center', textTransform:'uppercase',color:'red'}}>{errorData.errors.passwordincorrect}</p>\n        <p style={{textAlign:'center', textTransform:'uppercase',color:'red'}}>{errorData.errors.emailnotfound}</p>\n        <Form onSubmit={handleSubmit} className=\"login-form\">\n          <Form.Item>\n            {getFieldDecorator('email', {\n              rules: [\n                { required: true, message: 'Please input your email!' },\n                {type: 'email', message: 'The input is not valid E-mail!'}\n              ],\n            })(\n              <Input\n                prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                placeholder=\"Email\"\n              />,\n            )}\n          </Form.Item>\n          <Form.Item>\n            {getFieldDecorator('password', {\n              rules: [{ required: true, message: 'Please input your Password!' }],\n            })(\n              <Input\n                prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                type=\"password\"\n                placeholder=\"Password\"\n              />,\n            )}\n          </Form.Item>\n          <Button type=\"primary\" onClick={()=>{setLoginPageLoading(true)}} loading={loginLoading} block htmlType=\"submit\" className=\"login-form-button\">\n              Log in\n          </Button>\n          <div style={{padding:'2px'}}>\n            Or <NavLink to='/register'>register now!</NavLink> \n          </div>\n        </Form>\n        </Spin>\n      </Drawer>\n    </div>\n  );\n}\n\nexport const LandingNavbar = withRouter(Form.create({name: 'login'})(LandingNavbarWithForm));"]},"metadata":{},"sourceType":"module"}