{"ast":null,"code":"var _jsxFileName = \"/home/vivek/Documents/Web projets/react/auth/server/client/src/App.js\";\nimport React from 'react';\nimport { Switch, Route, withRouter } from 'react-router'; // importing pages\n\nimport LandingPage from './containers/LandingPage/LandingPage';\nimport { Register } from './containers/Register/Register';\nimport { Blog } from './containers/Blog/Blog';\nimport jwt_decode from \"jwt-decode\";\nimport { setAuthToken } from \"./utils/setAuthToken\";\nimport { setCurrentUser, logoutUser } from './store/actions/authTypes';\nimport store from \"./store\";\n\nif (localStorage.jwtToken) {\n  const token = localStorage.jwtToken;\n  setAuthToken(token);\n  const decoded = jwt_decode(token);\n  store.dispatch(setCurrentUser(decoded));\n  const currentTime = Date.now() / 1000; // to get in milliseconds\n\n  if (decoded.exp < currentTime) {\n    store.dispatch(logoutUser());\n    window.location.href = \"./register\";\n  }\n}\n\nfunction App() {\n  return React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: LandingPage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/register\",\n    component: Register,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/:id\",\n    component: Blog,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }));\n}\n\nexport default withRouter(App);","map":{"version":3,"sources":["/home/vivek/Documents/Web projets/react/auth/server/client/src/App.js"],"names":["React","Switch","Route","withRouter","LandingPage","Register","Blog","jwt_decode","setAuthToken","setCurrentUser","logoutUser","store","localStorage","jwtToken","token","decoded","dispatch","currentTime","Date","now","exp","window","location","href","App"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,UAAxB,QAA0C,cAA1C,C,CACA;;AACA,OAAOC,WAAP,MAAwB,sCAAxB;AACA,SAAQC,QAAR,QAAuB,gCAAvB;AACA,SAAQC,IAAR,QAAmB,wBAAnB;AAEA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAAQC,YAAR,QAA2B,sBAA3B;AACA,SAASC,cAAT,EAAyBC,UAAzB,QAA2C,2BAA3C;AACA,OAAOC,KAAP,MAAkB,SAAlB;;AAEA,IAAIC,YAAY,CAACC,QAAjB,EAA2B;AACzB,QAAMC,KAAK,GAAGF,YAAY,CAACC,QAA3B;AACAL,EAAAA,YAAY,CAACM,KAAD,CAAZ;AACA,QAAMC,OAAO,GAAGR,UAAU,CAACO,KAAD,CAA1B;AACAH,EAAAA,KAAK,CAACK,QAAN,CAAeP,cAAc,CAACM,OAAD,CAA7B;AACA,QAAME,WAAW,GAAGC,IAAI,CAACC,GAAL,KAAa,IAAjC,CALyB,CAKc;;AACvC,MAAIJ,OAAO,CAACK,GAAR,GAAcH,WAAlB,EAA+B;AAC7BN,IAAAA,KAAK,CAACK,QAAN,CAAeN,UAAU,EAAzB;AACAW,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,YAAvB;AACD;AACF;;AAED,SAASC,GAAT,GAAe;AACb,SACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAE,IAAd;AAAoB,IAAA,IAAI,EAAC,GAAzB;AAA6B,IAAA,SAAS,EAAEpB,WAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAE,IAAd;AAAoB,IAAA,IAAI,EAAC,WAAzB;AAAqC,IAAA,SAAS,EAAEC,QAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGI,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAE,IAAd;AAAoB,IAAA,IAAI,EAAC,MAAzB;AAAgC,IAAA,SAAS,EAAEC,IAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CADF;AAOD;;AAED,eAAeH,UAAU,CAAEqB,GAAF,CAAzB","sourcesContent":["import React from 'react';\nimport { Switch, Route, withRouter } from 'react-router';\n// importing pages\nimport LandingPage from './containers/LandingPage/LandingPage';\nimport {Register} from './containers/Register/Register';\nimport {Blog} from './containers/Blog/Blog';\n\nimport jwt_decode from \"jwt-decode\";\nimport {setAuthToken} from \"./utils/setAuthToken\";\nimport { setCurrentUser, logoutUser } from './store/actions/authTypes';\nimport store from \"./store\";\n\nif (localStorage.jwtToken) {\n  const token = localStorage.jwtToken;\n  setAuthToken(token);\n  const decoded = jwt_decode(token);\n  store.dispatch(setCurrentUser(decoded));\n  const currentTime = Date.now() / 1000; // to get in milliseconds\n  if (decoded.exp < currentTime) {\n    store.dispatch(logoutUser());\n    window.location.href = \"./register\";\n  }\n}\n\nfunction App() {\n  return (\n    <Switch>\n        <Route exact={true} path='/' component={LandingPage} />\n        <Route exact={true} path='/register' component={Register} />\n        <Route exact={true} path='/:id' component={Blog} />\n    </Switch>\n  );\n}\n\nexport default withRouter((App));\n"]},"metadata":{},"sourceType":"module"}